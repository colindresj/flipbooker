/*! Flipbooker - v0.2.0 - 2014-01-20
* https://github.com/corporadobob/flipbooker
* Copyright (c) 2014 JC; Licensed MIT */

!function(a){a.flipbooker=function(b,c){function d(){if(g=b[i],e.attr("src",g.href),g.caption)switch(f.text(g.caption).addClass("image-cap"),g.captionPosition){case"Top Left":f.removeClass("cap-bottom cap-right"),f.addClass("cap-top cap-left");break;case"Top Right":f.removeClass("cap-bottom cap-left"),f.addClass("cap-top cap-right");break;case"Bottom Left":f.removeClass("cap-top cap-right"),f.addClass("cap-bottom cap-left");break;case"Bottom Right":f.removeClass("cap-top cap-left"),f.addClass("cap-bottom cap-right");break;default:f.removeClass("cap-bottom cap-right"),f.addClass("cap-top cap-left")}else f.text("").removeClass("image-cap");l=g.pause?setTimeout(d,g.pause):setTimeout(d,h.delay),i++,i>=k&&(h.cb.call(this),i=0,h.loop||a.flipbooker.pause())}var e,f,g,h=a.extend(!0,{},a.flipbooker.defaults,c),i=0,j=a(h.container),k=b.length;j.css({height:h.height,width:h.width,position:"relative",overflow:"hidden"}),e=a("<img>").appendTo(j),f=a("<div>").appendTo(j);var l=setTimeout(d,h.delay);a(window).on("pause:flipbooker",function(){clearTimeout(l)}),a(window).on("play:flipbooker",function(){l=setTimeout(d,h.delay)})},a.flipbooker.pause=function(){a(window).trigger("pause:flipbooker")},a.flipbooker.play=function(){a(window).trigger("play:flipbooker")},a.flipbooker.defaults={container:"#flipbook",loop:!0,delay:100,height:"400px",width:"400px",cb:function(){}}}(jQuery);